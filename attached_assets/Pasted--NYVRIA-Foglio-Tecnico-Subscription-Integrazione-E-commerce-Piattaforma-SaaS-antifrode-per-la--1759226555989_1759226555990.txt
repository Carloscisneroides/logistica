üì¶ NYVRIA ‚Äì Foglio Tecnico Subscription & Integrazione E-commerce
Piattaforma SaaS antifrode per la gestione delle spedizioni, progettata per operatori nazionali e internazionali, con architettura multi-tenant e logica modulare.

Modulo Subscription ‚Äì Stato Attuale
Il sistema di abbonamento √® stato implementato con logica antifrode e controllo automatico dei limiti mensili. Include:

Middleware attivo per controllo e incremento delle spedizioni (checkSubscriptionLimits, incrementShipmentUsage, resetMonthlyUsage)

Tabella clientSubscriptions con tier (basic, premium, enterprise, custom), limiti mensili, pricing, stato e integrazione Stripe

Metodi storage completati: getActiveClientSubscription, incrementSubscriptionUsage, resetAllSubscriptionUsage

Middleware integrato nella route POST /api/shipments

API admin per gestione subscription create e funzionanti

Cron Job Mensile
√à in fase di implementazione il cron job automatico per il reset mensile dei contatori di spedizione. Ogni primo giorno del mese, il sistema azzera currentUsage per tutti gli abbonamenti attivi, ripristinando la disponibilit√† mensile prevista dal piano. Questo garantisce continuit√† operativa, prevenzione blocchi e coerenza con la logica antifrode.

Integrazione E-commerce
NYVRIA √® predisposta per integrarsi con i principali sistemi e-commerce e marketplace, tra cui:

Shopify, WooCommerce, Magento, Prestashop, BigCommerce

Soluzioni custom e negozi privati tramite API REST o plugin dedicati

La piattaforma riceve gli ordini, calcola le opzioni di spedizione disponibili, e consente l‚Äôacquisto diretto delle spedizioni dai corrieri integrati. NYVRIA agisce come intermediario intelligente, centralizzando la logica di pricing, disponibilit√† e antifrode.

Collegamento con Corrieri
NYVRIA pu√≤ acquistare servizi da corrieri esterni e rivenderli ai clienti finali. Ogni cliente pu√≤ accedere a corrieri propri (se abilitato) o a quelli forniti da NYVRIA. La logica di accesso √® regolata per tipo di cliente (base, rivenditore, sottocliente) e per configurazione del piano.

Architettura Tecnica
Multi-tenant con isolamento logico e branding white-label

Backend: Node.js + NestJS

Frontend: React + Tailwind CSS

Database: PostgreSQL / MongoDB

Containerizzazione: Docker + Kubernetes

Sicurezza: OAuth2, JWT, TLS

Integrazione Stripe per billing e antifrode

Localizzazione multilingua e fiscalit√† cross-border

Roadmap e Priorit√†
Il modulo e-commerce √® attivo su NYVRIA e sar√† completato prima di essere adattato su SWIFT. I due ambienti sono attualmente gestiti da team di sviluppo separati e non ancora unificati. SWIFT condivide la stessa predisposizione tecnica, ma il rollout operativo del modulo marketplace sar√† dedicato in una fase successiva.